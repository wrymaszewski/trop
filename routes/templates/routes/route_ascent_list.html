{% extends "routes/routes_base.html" %}
{% block route_content %}
{% if object_list %}
  <h1 class="text-center">{{object_list.0.route}}</h1>
  <table class="table datatable">
    <thead>
      <th>Username</th>
      <th>Date of Ascent</th>
      <th>Style of Ascent</th>
      <th>Description</th>
      <th>Rating</th>
    </thead>
    <tbody>
    {% for ascent in object_list %}
      <tr>
        <td>
          {% if ascent.user.userprofile.hidden %}
            Hidden User
          {% else %}
            <a href="{% url 'accounts:user_profile' pk=ascent.user.pk%}">{{ascent.user.username}}</a>
          {% endif %}
        </td>
        <td>{{ascent.date}}</td>
        <td>{{ascent.get_ascent_style_display}}</td>
        <td>{{ascent.description}}</td>
        <td>
          {% if not ascent.rating %}
            <span></span>
          {% elif ascent.rating > 0 and ascent.rating < 1 %}
            <span class="fas fa-star-half"></span>
          {% elif ascent.rating == 1 %}
            <span class="fas fa-star"></span>
          {% elif ascent.rating > 1 and ascent.rating < 2 %}
              <span class="fas fa-star"></span>
              <span class="fas fa-star-half"></span>
          {% elif ascent.rating == 2 %}
              <span class="fas fa-star"></span>
              <span class="fas fa-star"></span>
          {% elif ascent.rating > 2 and ascent.rating < 3 %}
              <span class="fas fa-star"></span>
              <span class="fas fa-star"></span>
              <span class="fas fa-star-half"></span>
          {% elif ascent.rating == 3 %}
              <span class="fas fa-star"></span>
              <span class="fas fa-star"></span>
              <span class="fas fa-star"></span>
          {% endif %}
        </td>
      </tr>
    {% endfor %}
    </tbody>
  </table>
{% else %}
    <h1>No ascents were found</h1>
{% endif %}

{% endblock route_content %}
